<div id="titulo" class="mt-3">
  <h2>CONTROL DE CITAS </h2>
</div>
<div class="texto-citas p-3" style="text-align: center; height: 100%; width: 100%; display: flex; justify-content: center; align-items: center; flex-direction: column;">
  <p>En esta página, como administrador del gimnasio, tendrás acceso a todas las citas solicitadas por nuestros clientes. Aquí podrás gestionar y administrar las citas de manera eficiente y sencilla.</p>
  <p>Si necesitas <strong>cancelar alguna cita</strong>, simplemente haz clic en el botón <strong>"Cancelar cita"</strong> correspondiente a la cita que deseas cancelar. Esto te permitirá ofrecer un mejor servicio a nuestros clientes, liberando horarios disponibles para otras personas interesadas.</p>
  <p>Recuerda que es importante estar atento a las citas pasadas, ya que se indicará claramente que son <strong>citas pasadas</strong>. Esto te ayudará a organizar mejor tu agenda y brindar un servicio óptimo a nuestros clientes.</p>
</div>

<div class="container p-4 mt-3 my-4 rounded shadow-sm" style="background-color: white">
  <div class="table-responsive">
    <table
      class="table table-bordered text-center table-responsive"
      style="border: 1px solid black"
      id="tablaCitas"
    >
      <thead style="background-color: #24262b; color: white">
        <tr>
          <th>Cliente</th>
          <th>Fecha de la cita</th>
          <th>Hora elegida</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cita of citas" [ngClass]="{'past-date': isPastDate(cita.fecha_cita)}">
          <td>{{ cita.nombre_cliente }}</td>
          <td>{{ cita.fecha_cita }}</td>
          <td>{{ cita.hora_cita }}</td>
          <td>
            <p *ngIf="isPastDate(cita.fecha_cita)">CITA PASADA</p>
            <button type="button" class="btn btn-danger" (click)="seleccionarCita(cita.id_cita)" data-bs-toggle="modal" data-bs-target="#eliminarCitaModal">Cancelar cita</button>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="spinner"></div>
  </div>
</div>




<!-- Modal eliminar cita -->
<div class="modal fade" id="eliminarCitaModal" tabindex="-1" aria-labelledby="eliminarCitaModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eliminarCitaModalLabel">¿Está seguro de que desea eliminar esta cita?</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" (click)="borrarCita()">Eliminar</button>
      </div>
      <div class="spinner"></div>
    </div>
  </div>
</div>
